!function(){"use strict";function a(b,d){function e(a,b){return function(){return a.apply(b,arguments)}}var f;if(d=d||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=d.touchBoundary||10,this.layer=b,this.tapDelay=d.tapDelay||200,this.tapTimeout=d.tapTimeout||700,!a.notNeeded(b)){for(var g=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],h=this,i=0,j=g.length;j>i;i++)h[g[i]]=e(h[g[i]],h);c&&(b.addEventListener("mouseover",this.onMouse,!0),b.addEventListener("mousedown",this.onMouse,!0),b.addEventListener("mouseup",this.onMouse,!0)),b.addEventListener("click",this.onClick,!0),b.addEventListener("touchstart",this.onTouchStart,!1),b.addEventListener("touchmove",this.onTouchMove,!1),b.addEventListener("touchend",this.onTouchEnd,!1),b.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(b.removeEventListener=function(a,c,d){var e=Node.prototype.removeEventListener;"click"===a?e.call(b,a,c.hijacked||c,d):e.call(b,a,c,d)},b.addEventListener=function(a,c,d){var e=Node.prototype.addEventListener;"click"===a?e.call(b,a,c.hijacked||(c.hijacked=function(a){a.propagationStopped||c(a)}),d):e.call(b,a,c,d)}),"function"==typeof b.onclick&&(f=b.onclick,b.addEventListener("click",function(a){f(a)},!1),b.onclick=null)}}var b=navigator.userAgent.indexOf("Windows Phone")>=0,c=navigator.userAgent.indexOf("Android")>0&&!b,d=/iP(ad|hone|od)/.test(navigator.userAgent)&&!b,e=d&&/OS 4_\d(_\d)?/.test(navigator.userAgent),f=d&&/OS [6-7]_\d/.test(navigator.userAgent),g=navigator.userAgent.indexOf("BB10")>0;a.prototype.needsClick=function(a){switch(a.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(a.disabled)return!0;break;case"input":if(d&&"file"===a.type||a.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(a.className)},a.prototype.needsFocus=function(a){switch(a.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!c;case"input":switch(a.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!a.disabled&&!a.readOnly;default:return/\bneedsfocus\b/.test(a.className)}},a.prototype.sendClick=function(a,b){var c,d;document.activeElement&&document.activeElement!==a&&document.activeElement.blur(),d=b.changedTouches[0],c=document.createEvent("MouseEvents"),c.initMouseEvent(this.determineEventType(a),!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),c.forwardedTouchEvent=!0,a.dispatchEvent(c)},a.prototype.determineEventType=function(a){return c&&"select"===a.tagName.toLowerCase()?"mousedown":"click"},a.prototype.focus=function(a){var b;d&&a.setSelectionRange&&0!==a.type.indexOf("date")&&"time"!==a.type&&"month"!==a.type?(b=a.value.length,a.setSelectionRange(b,b)):a.focus()},a.prototype.updateScrollParent=function(a){var b,c;if(b=a.fastClickScrollParent,!b||!b.contains(a)){c=a;do{if(c.scrollHeight>c.offsetHeight){b=c,a.fastClickScrollParent=c;break}c=c.parentElement}while(c)}b&&(b.fastClickLastScrollTop=b.scrollTop)},a.prototype.getTargetElementFromEventTarget=function(a){return a.nodeType===Node.TEXT_NODE?a.parentNode:a},a.prototype.onTouchStart=function(a){var b,c,f;if(a.targetTouches.length>1)return!0;if(b=this.getTargetElementFromEventTarget(a.target),c=a.targetTouches[0],d){if(f=window.getSelection(),f.rangeCount&&!f.isCollapsed)return!0;if(!e){if(c.identifier&&c.identifier===this.lastTouchIdentifier)return a.preventDefault(),!1;this.lastTouchIdentifier=c.identifier,this.updateScrollParent(b)}}return this.trackingClick=!0,this.trackingClickStart=a.timeStamp,this.targetElement=b,this.touchStartX=c.pageX,this.touchStartY=c.pageY,a.timeStamp-this.lastClickTime<this.tapDelay&&a.preventDefault(),!0},a.prototype.touchHasMoved=function(a){var b=a.changedTouches[0],c=this.touchBoundary;return Math.abs(b.pageX-this.touchStartX)>c||Math.abs(b.pageY-this.touchStartY)>c?!0:!1},a.prototype.onTouchMove=function(a){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(a.target)||this.touchHasMoved(a))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},a.prototype.findControl=function(a){return void 0!==a.control?a.control:a.htmlFor?document.getElementById(a.htmlFor):a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},a.prototype.onTouchEnd=function(a){var b,g,h,i,j,k=this.targetElement;if(!this.trackingClick)return!0;if(a.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(a.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=a.timeStamp,g=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,f&&(j=a.changedTouches[0],k=document.elementFromPoint(j.pageX-window.pageXOffset,j.pageY-window.pageYOffset)||k,k.fastClickScrollParent=this.targetElement.fastClickScrollParent),h=k.tagName.toLowerCase(),"label"===h){if(b=this.findControl(k)){if(this.focus(k),c)return!1;k=b}}else if(this.needsFocus(k))return a.timeStamp-g>100||d&&window.top!==window&&"input"===h?(this.targetElement=null,!1):(this.focus(k),this.sendClick(k,a),d&&"select"===h||(this.targetElement=null,a.preventDefault()),!1);return d&&!e&&(i=k.fastClickScrollParent,i&&i.fastClickLastScrollTop!==i.scrollTop)?!0:(this.needsClick(k)||(a.preventDefault(),this.sendClick(k,a)),!1)},a.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},a.prototype.onMouse=function(a){return this.targetElement?a.forwardedTouchEvent?!0:a.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(a.stopImmediatePropagation?a.stopImmediatePropagation():a.propagationStopped=!0,a.stopPropagation(),a.preventDefault(),!1):!0:!0},a.prototype.onClick=function(a){var b;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===a.target.type&&0===a.detail?!0:(b=this.onMouse(a),b||(this.targetElement=null),b)},a.prototype.destroy=function(){var a=this.layer;c&&(a.removeEventListener("mouseover",this.onMouse,!0),a.removeEventListener("mousedown",this.onMouse,!0),a.removeEventListener("mouseup",this.onMouse,!0)),a.removeEventListener("click",this.onClick,!0),a.removeEventListener("touchstart",this.onTouchStart,!1),a.removeEventListener("touchmove",this.onTouchMove,!1),a.removeEventListener("touchend",this.onTouchEnd,!1),a.removeEventListener("touchcancel",this.onTouchCancel,!1)},a.notNeeded=function(a){var b,d,e,f;if("undefined"==typeof window.ontouchstart)return!0;if(d=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!c)return!0;if(b=document.querySelector("meta[name=viewport]")){if(-1!==b.content.indexOf("user-scalable=no"))return!0;if(d>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(g&&(e=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),e[1]>=10&&e[2]>=3&&(b=document.querySelector("meta[name=viewport]")))){if(-1!==b.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===a.style.msTouchAction||"manipulation"===a.style.touchAction?!0:(f=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],f>=27&&(b=document.querySelector("meta[name=viewport]"),b&&(-1!==b.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===a.style.touchAction||"manipulation"===a.style.touchAction?!0:!1)},a.attach=function(b,c){return new a(b,c)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return a}):"undefined"!=typeof module&&module.exports?(module.exports=a.attach,module.exports.FastClick=a):window.FastClick=a}(),!function(a,b,c,d){"use strict";if(!b.history.pushState)return a.fn.smoothState=function(){return this},void(a.fn.smoothState.options={});if(!a.fn.smoothState){var e=a("html, body"),f=b.console,g={debug:!1,anchors:"a",forms:"form",blacklist:".no-smoothState",prefetch:!1,cacheLength:0,loadingClass:"is-loading",alterRequest:function(a){return a},onBefore:function(a,b){},onStart:{duration:0,render:function(a){}},onProgress:{duration:0,render:function(a){}},onReady:{duration:0,render:function(a,b){a.html(b)}},onAfter:function(a,b){}},h={isExternal:function(a){var c=a.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/);return"string"==typeof c[1]&&c[1].length>0&&c[1].toLowerCase()!==b.location.protocol?!0:"string"==typeof c[2]&&c[2].length>0&&c[2].replace(new RegExp(":("+{"http:":80,"https:":443}[b.location.protocol]+")?$"),"")!==b.location.host?!0:!1},stripHash:function(a){return a.replace(/#.*/,"")},isHash:function(a,c){c=c||b.location.href;var d=a.indexOf("#")>-1?!0:!1,e=h.stripHash(a)===h.stripHash(c)?!0:!1;return d&&e},translate:function(b){var c={dataType:"html",type:"GET"};return b="string"==typeof b?a.extend({},c,{url:b}):a.extend({},c,b)},shouldLoadAnchor:function(a,b){var c=a.prop("href");return!(h.isExternal(c)||h.isHash(c)||a.is(b)||a.prop("target"))},clearIfOverCapacity:function(a,b){return Object.keys||(Object.keys=function(a){var b,c=[];for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&c.push(b);return c}),Object.keys(a).length>b&&(a={}),a},storePageIn:function(b,c,d,e){var f=a(d);return b[c]={status:"loaded",title:f.filter("title").first().text(),html:f.filter("#"+e)},b},triggerAllAnimationEndEvent:function(b,c){c=" "+c||"";var d=0,e="animationstart webkitAnimationStart oanimationstart MSAnimationStart",f="animationend webkitAnimationEnd oanimationend MSAnimationEnd",g="allanimationend",i=function(c){a(c.delegateTarget).is(b)&&(c.stopPropagation(),d++)},j=function(c){a(c.delegateTarget).is(b)&&(c.stopPropagation(),d--,0===d&&b.trigger(g))};b.on(e,i),b.on(f,j),b.on("allanimationend"+c,function(){d=0,h.redraw(b)})},redraw:function(a){a.height()}},i=function(c){if(null!==c.state){var d=b.location.href,e=a("#"+c.state.id),f=e.data("smoothState");f.href===d||h.isHash(d,f.href)||f.load(d,!1)}},j=function(d,g){var i=a(d),j=i.prop("id"),k=null,l=!1,m={},n=b.location.href,o=function(a){a=a||!1,a&&m.hasOwnProperty(a)?delete m[a]:m={},i.data("smoothState").cache=m},p=function(b,c){c=c||a.noop;var d=h.translate(b);if(!m.hasOwnProperty(d.url)||"undefined"!=typeof d.data){m=h.clearIfOverCapacity(m,g.cacheLength),m[d.url]={status:"fetching"};var e=a.ajax(d);e.success(function(a){h.storePageIn(m,d.url,a,j),i.data("smoothState").cache=m}),e.error(function(){m[d.url].status="error"}),c&&e.complete(c)}},q=function(){if(k){var b=a(k,i);if(b.length){var d=b.offset().top;c.body.scrollTop=d}k=null}},r=function(d){var h="#"+j,k=m[d]?a(m[d].html.html()):null;k.length?(c.title=m[d].title,i.data("smoothState").href=d,g.loadingClass&&e.removeClass(g.loadingClass),g.onReady.render(i,k),i.one("ss.onReadyEnd",function(){l=!1,g.onAfter(i,k),q()}),b.setTimeout(function(){i.trigger("ss.onReadyEnd")},g.onReady.duration)):!k&&g.debug&&f?f.warn("No element with an id of "+h+" in response from "+d+" in "+m):b.location=d},s=function(a,c){var d=h.translate(a);"undefined"==typeof c&&(c=!0);var k=!1,l=!1,n={loaded:function(){var a=k?"ss.onProgressEnd":"ss.onStartEnd";l&&k?l&&r(d.url):i.one(a,function(){r(d.url)}),c&&b.history.pushState({id:j},m[d.url].title,d.url)},fetching:function(){k||(k=!0,i.one("ss.onStartEnd",function(){g.loadingClass&&e.addClass(g.loadingClass),g.onProgress.render(i),b.setTimeout(function(){i.trigger("ss.onProgressEnd"),l=!0},g.onProgress.duration)})),b.setTimeout(function(){m.hasOwnProperty(d.url)&&n[m[d.url].status]()},10)},error:function(){g.debug&&f?f.log("There was an error loading: "+d.url):b.location=d.url}};m.hasOwnProperty(d.url)||p(d),g.onStart.render(i),b.setTimeout(function(){e.scrollTop(0),i.trigger("ss.onStartEnd")},g.onStart.duration),n[m[d.url].status]()},t=function(b){var c,d=a(b.currentTarget);h.shouldLoadAnchor(d,g.blacklist)&&!l&&(b.stopPropagation(),c=h.translate(d.prop("href")),c=g.alterRequest(c),p(c))},u=function(b){var c=a(b.currentTarget);if(!b.metaKey&&!b.ctrlKey&&h.shouldLoadAnchor(c,g.blacklist)){var d=h.translate(c.prop("href"));l=!0,b.stopPropagation(),b.preventDefault(),k=c.prop("hash"),d=g.alterRequest(d),g.onBefore(c,i),s(d)}},v=function(b){var c=a(b.currentTarget);if(!c.is(g.blacklist)){b.preventDefault(),b.stopPropagation();var d={url:c.prop("action"),data:c.serialize(),type:c.prop("method")};l=!0,d=g.alterRequest(d),"get"===d.type.toLowerCase()&&(d.url=d.url+"?"+d.data),g.onBefore(c,i),s(d)}},w=function(a){a.on("click",g.anchors,u),a.on("submit",g.forms,v),g.prefetch&&a.on("mouseover touchstart",g.anchors,t)},x=function(){var a=i.prop("class");i.removeClass(a),h.redraw(i),i.addClass(a)};return g=a.extend({},a.fn.smoothState.options,g),null===b.history.state&&b.history.replaceState({id:j},c.title,n),h.storePageIn(m,n,c.documentElement.outerHTML,j),h.triggerAllAnimationEndEvent(i,"ss.onStartEnd ss.onProgressEnd ss.onEndEnd"),w(i),{href:n,cache:m,clear:o,load:s,fetch:p,restartCSSAnimations:x}},k=function(b){return this.each(function(){var c=this.tagName.toLowerCase();this.id&&"body"!==c&&"html"!==c&&!a.data(this,"smoothState")?a.data(this,"smoothState",new j(this,b)):!this.id&&f?f.warn("Every smoothState container needs an id but the following one does not have one:",this):"body"!==c&&"html"!==c||!f||f.warn("The smoothstate container cannot be the "+this.tagName+" tag")})};b.onpopstate=i,a.smoothStateUtility=h,a.fn.smoothState=k,a.fn.smoothState.options=g}}(jQuery,window,document),function(a,b,c,d){var e=function(){if(c.documentMode)return c.documentMode;for(var a=7;a>0;a--){var b=c.createElement("div");if(b.innerHTML="<!--[if IE "+a+"]><span></span><![endif]-->",b.getElementsByTagName("span").length)return b=null,a;b=null}return d}(),f=b.console||{log:function(){},time:function(){}},g="blast",h={latinPunctuation:"–—′’'“″„\"(«.…¡¿′’'”″“\")».…!?",latinLetters:"\\u0041-\\u005A\\u0061-\\u007A\\u00C0-\\u017F\\u0100-\\u01FF\\u0180-\\u027F"},i={abbreviations:new RegExp("[^"+h.latinLetters+"](e\\.g\\.)|(i\\.e\\.)|(mr\\.)|(mrs\\.)|(ms\\.)|(dr\\.)|(prof\\.)|(esq\\.)|(sr\\.)|(jr\\.)[^"+h.latinLetters+"]","ig"),innerWordPeriod:new RegExp("["+h.latinLetters+"].["+h.latinLetters+"]","ig"),onlyContainsPunctuation:new RegExp("[^"+h.latinPunctuation+"]"),adjoinedPunctuation:new RegExp("^["+h.latinPunctuation+"]+|["+h.latinPunctuation+"]+$","g"),skippedElements:/(script|style|select|textarea)/i,hasPluginClass:new RegExp("(^| )"+g+"( |$)","gi")};a.fn[g]=function(j){function k(a){return a.replace(i.abbreviations,function(a){return a.replace(/\./g,"{{46}}")}).replace(i.innerWordPeriod,function(a){return a.replace(/\./g,"{{46}}")})}function l(a){return a.replace(/{{(\d{1,3})}}/g,function(a,b){return String.fromCharCode(b)})}function m(a,b){var d=c.createElement(b.tag);if(d.className=g,b.customClass&&(d.className+=" "+b.customClass,b.generateIndexID&&(d.id=b.customClass+"-"+r.blastedIndex)),"all"===b.delimiter&&/\s/.test(a.data)&&(d.style.whiteSpace="pre-line"),b.generateValueClass===!0&&!b.search&&("character"===b.delimiter||"word"===b.delimiter)){var e,f=a.data;"word"===b.delimiter&&i.onlyContainsPunctuation.test(f)&&(f=f.replace(i.adjoinedPunctuation,"")),e=g+"-"+b.delimiter.toLowerCase()+"-"+f.toLowerCase(),d.className+=" "+e}return b.aria&&d.setAttribute("aria-hidden","true"),d.appendChild(a.cloneNode(!1)),d}function n(a,b){var c=-1,d=0;if(3===a.nodeType&&a.data.length){if(r.nodeBeginning&&(a.data=b.search||"sentence"!==b.delimiter?l(a.data):k(a.data),r.nodeBeginning=!1),c=a.data.search(p),-1!==c){var e=a.data.match(p),f=e[0],g=e[1]||!1;""===f?c++:g&&g!==f&&(c+=f.indexOf(g),f=g);var h=a.splitText(c);h.splitText(f.length),d=1,b.search||"sentence"!==b.delimiter||(h.data=l(h.data));var j=m(h,b,r.blastedIndex);h.parentNode.replaceChild(j,h),r.wrappers.push(j),r.blastedIndex++}}else if(1===a.nodeType&&a.hasChildNodes()&&!i.skippedElements.test(a.tagName)&&!i.hasPluginClass.test(a.className))for(var o=0;o<a.childNodes.length;o++)r.nodeBeginning=!0,o+=n(a.childNodes[o],b);return d}function o(c,h){h.debug&&f.time("blast reversal");var i=!1;c.removeClass(g+"-root").removeAttr("aria-label").find("."+g).each(function(){var b=a(this);if(b.closest("."+g+"-root").length)i=!0;else{var c=this.parentNode;7>=e&&c.firstChild.nodeName,c.replaceChild(this.firstChild,this),c.normalize()}}),b.Zepto?c.data(g,d):c.removeData(g),h.debug&&(f.log(g+": Reversed Blast"+(c.attr("id")?" on #"+c.attr("id")+".":".")+(i?" Skipped reversal on the children of one or more descendant root elements.":"")),f.timeEnd("blast reversal"))}var p,q=a.extend({},a.fn[g].defaults,j),r={};if(q.search.length&&("string"==typeof q.search||/^\d/.test(parseFloat(q.search))))q.delimiter=q.search.toString().replace(/[-[\]{,}(.)*+?|^$\\\/]/g,"\\$&"),p=new RegExp("(?:^|[^-"+h.latinLetters+"])("+q.delimiter+"('s)?)(?![-"+h.latinLetters+"])","i");else switch("string"==typeof q.delimiter&&(q.delimiter=q.delimiter.toLowerCase()),q.delimiter){case"all":p=/(.)/;break;case"letter":case"char":case"character":p=/(\S)/;break;case"word":p=/\s*(\S+)\s*/;break;case"sentence":p=/(?=\S)(([.]{2,})?[^!?]+?([.…!?]+|(?=\s+$)|$)(\s*[′’'”″“")»]+)*)/;break;case"element":p=/(?=\S)([\S\s]*\S)/;break;default:if(!(q.delimiter instanceof RegExp))return f.log(g+": Unrecognized delimiter, empty search string, or invalid custom Regex. Aborting."),!0;p=q.delimiter}if(this.each(function(){var b=a(this),e=b.text();if(j!==!1){r={blastedIndex:0,nodeBeginning:!1,wrappers:r.wrappers||[]},b.data(g)===d||"search"===b.data(g)&&q.search!==!1||(o(b,q),q.debug&&f.log(g+": Removed element's existing Blast call.")),b.data(g,q.search!==!1?"search":q.delimiter),q.aria&&b.attr("aria-label",e),q.stripHTMLTags&&b.html(e);try{c.createElement(q.tag)}catch(h){q.tag="span",q.debug&&f.log(g+": Invalid tag supplied. Defaulting to span.")}b.addClass(g+"-root"),q.debug&&f.time(g),n(this,q),q.debug&&f.timeEnd(g)}else j===!1&&b.data(g)!==d&&o(b,q);q.debug&&a.each(r.wrappers,function(a,b){f.log(g+" ["+q.delimiter+"] "+this.outerHTML),this.style.backgroundColor=a%2?"#f12185":"#075d9a"})}),j!==!1&&q.returnGenerated===!0){var s=a().add(r.wrappers);return s.prevObject=this,s.context=this.context,s}return this},a.fn.blast.defaults={returnGenerated:!0,delimiter:"word",tag:"span",search:!1,customClass:"",generateIndexID:!1,generateValueClass:!1,stripHTMLTags:!1,aria:!0,debug:!1}}(window.jQuery||window.Zepto,window,document),function(a,b,c,d){"use strict";function e(b,c){this.element=b,this.$context=a(b).data("api",this),this.$layers=this.$context.find(".layer");var d={calibrateX:this.$context.data("calibrate-x")||null,calibrateY:this.$context.data("calibrate-y")||null,invertX:this.$context.data("invert-x")||null,invertY:this.$context.data("invert-y")||null,limitX:parseFloat(this.$context.data("limit-x"))||null,limitY:parseFloat(this.$context.data("limit-y"))||null,scalarX:parseFloat(this.$context.data("scalar-x"))||null,scalarY:parseFloat(this.$context.data("scalar-y"))||null,frictionX:parseFloat(this.$context.data("friction-x"))||null,frictionY:parseFloat(this.$context.data("friction-y"))||null,originX:parseFloat(this.$context.data("origin-x"))||null,originY:parseFloat(this.$context.data("origin-y"))||null};for(var e in d)null===d[e]&&delete d[e];a.extend(this,h,c,d),this.calibrationTimer=null,this.calibrationFlag=!0,this.enabled=!1,this.depths=[],this.raf=null,this.bounds=null,this.ex=0,this.ey=0,this.ew=0,this.eh=0,this.ecx=0,this.ecy=0,this.erx=0,this.ery=0,this.cx=0,this.cy=0,this.ix=0,this.iy=0,this.mx=0,this.my=0,this.vx=0,this.vy=0,this.onMouseMove=this.onMouseMove.bind(this),this.onDeviceOrientation=this.onDeviceOrientation.bind(this),this.onOrientationTimer=this.onOrientationTimer.bind(this),this.onCalibrationTimer=this.onCalibrationTimer.bind(this),this.onAnimationFrame=this.onAnimationFrame.bind(this),this.onWindowResize=this.onWindowResize.bind(this),this.initialise()}var f="parallax",g=30,h={relativeInput:!1,clipRelativeInput:!1,calibrationThreshold:100,calibrationDelay:500,supportDelay:500,calibrateX:!1,calibrateY:!0,invertX:!0,invertY:!0,limitX:!1,limitY:!1,scalarX:10,scalarY:10,frictionX:.1,frictionY:.1,originX:.5,originY:.5};e.prototype.transformSupport=function(a){for(var e=c.createElement("div"),f=!1,g=null,h=!1,i=null,j=null,k=0,l=this.vendors.length;l>k;k++)if(null!==this.vendors[k]?(i=this.vendors[k][0]+"transform",j=this.vendors[k][1]+"Transform"):(i="transform",j="transform"),e.style[j]!==d){f=!0;break}switch(a){case"2D":h=f;break;case"3D":if(f){var m=c.body||c.createElement("body"),n=c.documentElement,o=n.style.overflow;c.body||(n.style.overflow="hidden",n.appendChild(m),m.style.overflow="hidden",m.style.background=""),m.appendChild(e),e.style[j]="translate3d(1px,1px,1px)",g=b.getComputedStyle(e).getPropertyValue(i),h=g!==d&&g.length>0&&"none"!==g,n.style.overflow=o,m.removeChild(e)}}return h},e.prototype.ww=null,e.prototype.wh=null,e.prototype.wcx=null,e.prototype.wcy=null,e.prototype.wrx=null,e.prototype.wry=null,e.prototype.portrait=null,e.prototype.desktop=!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i),e.prototype.vendors=[null,["-webkit-","webkit"],["-moz-","Moz"],["-o-","O"],["-ms-","ms"]],e.prototype.motionSupport=!!b.DeviceMotionEvent,e.prototype.orientationSupport=!!b.DeviceOrientationEvent,e.prototype.orientationStatus=0,e.prototype.transform2DSupport=e.prototype.transformSupport("2D"),e.prototype.transform3DSupport=e.prototype.transformSupport("3D"),e.prototype.propertyCache={},e.prototype.initialise=function(){"static"===this.$context.css("position")&&this.$context.css({position:"relative"}),this.accelerate(this.$context),this.updateLayers(),this.updateDimensions(),this.enable(),this.queueCalibration(this.calibrationDelay)},e.prototype.updateLayers=function(){this.$layers=this.$context.find(".layer"),this.depths=[],this.$layers.css({position:"absolute",display:"block",left:0,top:0}),this.$layers.first().css({position:"relative"}),this.accelerate(this.$layers),this.$layers.each(a.proxy(function(b,c){this.depths.push(a(c).data("depth")||0)},this))},e.prototype.updateDimensions=function(){this.ww=b.innerWidth,this.wh=b.innerHeight,this.wcx=this.ww*this.originX,this.wcy=this.wh*this.originY,this.wrx=Math.max(this.wcx,this.ww-this.wcx),this.wry=Math.max(this.wcy,this.wh-this.wcy)},e.prototype.updateBounds=function(){this.bounds=this.element.getBoundingClientRect(),this.ex=this.bounds.left,this.ey=this.bounds.top,this.ew=this.bounds.width,this.eh=this.bounds.height,this.ecx=this.ew*this.originX,this.ecy=this.eh*this.originY,this.erx=Math.max(this.ecx,this.ew-this.ecx),this.ery=Math.max(this.ecy,this.eh-this.ecy)},e.prototype.queueCalibration=function(a){clearTimeout(this.calibrationTimer),this.calibrationTimer=setTimeout(this.onCalibrationTimer,a)},e.prototype.enable=function(){this.enabled||(this.enabled=!0,this.orientationSupport?(this.portrait=null,b.addEventListener("deviceorientation",this.onDeviceOrientation),setTimeout(this.onOrientationTimer,this.supportDelay)):(this.cx=0,this.cy=0,this.portrait=!1,b.addEventListener("mousemove",this.onMouseMove)),b.addEventListener("resize",this.onWindowResize),this.raf=requestAnimationFrame(this.onAnimationFrame))},e.prototype.disable=function(){this.enabled&&(this.enabled=!1,this.orientationSupport?b.removeEventListener("deviceorientation",this.onDeviceOrientation):b.removeEventListener("mousemove",this.onMouseMove),b.removeEventListener("resize",this.onWindowResize),cancelAnimationFrame(this.raf))},e.prototype.calibrate=function(a,b){this.calibrateX=a===d?this.calibrateX:a,this.calibrateY=b===d?this.calibrateY:b},e.prototype.invert=function(a,b){this.invertX=a===d?this.invertX:a,this.invertY=b===d?this.invertY:b},e.prototype.friction=function(a,b){this.frictionX=a===d?this.frictionX:a,this.frictionY=b===d?this.frictionY:b},e.prototype.scalar=function(a,b){this.scalarX=a===d?this.scalarX:a,this.scalarY=b===d?this.scalarY:b},e.prototype.limit=function(a,b){this.limitX=a===d?this.limitX:a,this.limitY=b===d?this.limitY:b},e.prototype.origin=function(a,b){this.originX=a===d?this.originX:a,this.originY=b===d?this.originY:b},e.prototype.clamp=function(a,b,c){return a=Math.max(a,b),a=Math.min(a,c)},e.prototype.css=function(b,c,e){var f=this.propertyCache[c];if(!f)for(var g=0,h=this.vendors.length;h>g;g++)if(f=null!==this.vendors[g]?a.camelCase(this.vendors[g][1]+"-"+c):c,b.style[f]!==d){this.propertyCache[c]=f;break}b.style[f]=e},e.prototype.accelerate=function(a){for(var b=0,c=a.length;c>b;b++){var d=a[b];this.css(d,"transform","translate3d(0,0,0)"),this.css(d,"transform-style","preserve-3d"),this.css(d,"backface-visibility","hidden")}},e.prototype.setPosition=function(a,b,c){b+="px",c+="px",this.transform3DSupport?this.css(a,"transform","translate3d("+b+","+c+",0)"):this.transform2DSupport?this.css(a,"transform","translate("+b+","+c+")"):(a.style.left=b,a.style.top=c)},e.prototype.onOrientationTimer=function(a){this.orientationSupport&&0===this.orientationStatus&&(this.disable(),this.orientationSupport=!1,this.enable())},e.prototype.onCalibrationTimer=function(a){this.calibrationFlag=!0},e.prototype.onWindowResize=function(a){this.updateDimensions()},e.prototype.onAnimationFrame=function(){this.updateBounds();var a=this.ix-this.cx,b=this.iy-this.cy;(Math.abs(a)>this.calibrationThreshold||Math.abs(b)>this.calibrationThreshold)&&this.queueCalibration(0),this.portrait?(this.mx=this.calibrateX?b:this.iy,this.my=this.calibrateY?a:this.ix):(this.mx=this.calibrateX?a:this.ix,this.my=this.calibrateY?b:this.iy),this.mx*=this.ew*(this.scalarX/100),this.my*=this.eh*(this.scalarY/100),isNaN(parseFloat(this.limitX))||(this.mx=this.clamp(this.mx,-this.limitX,this.limitX)),isNaN(parseFloat(this.limitY))||(this.my=this.clamp(this.my,-this.limitY,this.limitY)),this.vx+=(this.mx-this.vx)*this.frictionX,this.vy+=(this.my-this.vy)*this.frictionY;for(var c=0,d=this.$layers.length;d>c;c++){var e=this.depths[c],f=this.$layers[c],g=this.vx*e*(this.invertX?-1:1),h=this.vy*e*(this.invertY?-1:1);this.setPosition(f,g,h)}this.raf=requestAnimationFrame(this.onAnimationFrame)},e.prototype.onDeviceOrientation=function(a){if(!this.desktop&&null!==a.beta&&null!==a.gamma){this.orientationStatus=1;var c=(a.beta||0)/g,d=(a.gamma||0)/g,e=b.innerHeight>b.innerWidth;this.portrait!==e&&(this.portrait=e,this.calibrationFlag=!0),this.calibrationFlag&&(this.calibrationFlag=!1,this.cx=c,this.cy=d),this.ix=c,this.iy=d}},e.prototype.onMouseMove=function(a){var b=a.clientX,c=a.clientY;!this.orientationSupport&&this.relativeInput?(this.clipRelativeInput&&(b=Math.max(b,this.ex),b=Math.min(b,this.ex+this.ew),c=Math.max(c,this.ey),c=Math.min(c,this.ey+this.eh)),this.ix=(b-this.ex-this.ecx)/this.erx,this.iy=(c-this.ey-this.ecy)/this.ery):(this.ix=(b-this.wcx)/this.wrx,this.iy=(c-this.wcy)/this.wry)};var i={enable:e.prototype.enable,disable:e.prototype.disable,updateLayers:e.prototype.updateLayers,calibrate:e.prototype.calibrate,friction:e.prototype.friction,invert:e.prototype.invert,scalar:e.prototype.scalar,limit:e.prototype.limit,origin:e.prototype.origin};a.fn[f]=function(b){var c=arguments;return this.each(function(){var d=a(this),g=d.data(f);g||(g=new e(this,b),d.data(f,g)),i[b]&&g[b].apply(g,Array.prototype.slice.call(c,1))})}}(window.jQuery||window.Zepto,window,document),function(a,b){"function"==typeof define&&define.amd?define(["ScrollMagic","TweenMax","TimelineMax"],b):"object"==typeof exports?(require("gsap"),b(require("scrollmagic"),TweenMax,TimelineMax)):b(a.ScrollMagic||a.jQuery&&a.jQuery.ScrollMagic,a.TweenMax||a.TweenLite,a.TimelineMax||a.TimelineLite)}(this,function(a,b,c){"use strict";var d="animation.gsap",e=window.console||{},f=Function.prototype.bind.call(e.error||e.log||function(){},e);a||f("("+d+") -> ERROR: The ScrollMagic main module could not be found. Please make sure it's loaded before this plugin or use an asynchronous loader like requirejs."),b||f("("+d+") -> ERROR: TweenLite or TweenMax could not be found. Please make sure GSAP is loaded before ScrollMagic or use an asynchronous loader like requirejs."),a.Scene.addOption("tweenChanges",!1,function(a){return!!a}),a.Scene.extend(function(){var a,e=this,f=function(){e._log&&(Array.prototype.splice.call(arguments,1,0,"("+d+")","->"),e._log.apply(this,arguments))};e.on("progress.plugin_gsap",function(){g()}),e.on("destroy.plugin_gsap",function(a){e.removeTween(a.reset)});var g=function(){if(a){var b=e.progress(),c=e.state();a.repeat&&-1===a.repeat()?"DURING"===c&&a.paused()?a.play():"DURING"===c||a.paused()||a.pause():b!=a.progress()&&(0===e.duration()?b>0?a.play():a.reverse():e.tweenChanges()&&a.tweenTo?a.tweenTo(b*a.duration()):a.progress(b).pause())}};e.setTween=function(d,h,i){var j;arguments.length>1&&(arguments.length<3&&(i=h,h=1),d=b.to(d,h,i));try{j=c?new c({smoothChildTiming:!0}).add(d):d,j.pause()}catch(k){return f(1,"ERROR calling method 'setTween()': Supplied argument is not a valid TweenObject"),e}if(a&&e.removeTween(),a=j,d.repeat&&-1===d.repeat()&&(a.repeat(-1),a.yoyo(d.yoyo())),e.tweenChanges()&&!a.tweenTo&&f(2,"WARNING: tweenChanges will only work if the TimelineMax object is available for ScrollMagic."),a&&e.controller()&&e.triggerElement()&&e.loglevel()>=2){var l=b.getTweensOf(e.triggerElement()),m=e.controller().info("vertical");l.forEach(function(a,b){var c=a.vars.css||a.vars,d=m?void 0!==c.top||void 0!==c.bottom:void 0!==c.left||void 0!==c.right;return d?(f(2,"WARNING: Tweening the position of the trigger element affects the scene timing and should be avoided!"),!1):void 0})}if(parseFloat(TweenLite.version)>=1.14)for(var n,o,p=a.getChildren?a.getChildren(!0,!0,!1):[a],q=function(){f(2,"WARNING: tween was overwritten by another. To learn how to avoid this issue see here: https://github.com/janpaepke/ScrollMagic/wiki/WARNING:-tween-was-overwritten-by-another")},r=0;r<p.length;r++)n=p[r],o!==q&&(o=n.vars.onOverwrite,n.vars.onOverwrite=function(){o&&o.apply(this,arguments),q.apply(this,arguments)});return f(3,"added tween"),g(),e},e.removeTween=function(b){return a&&(b&&a.progress(0).pause(),a.kill(),a=void 0,f(3,"removed tween (reset: "+(b?"true":"false")+")")),e}})}),function(a){function b(){var b=new TimelineLite({paused:!0});b.set(".info",{css:{display:"block"}}).fromTo(".info",.4,{css:{transform:"scaleX(0) translateZ(0)",opacity:0}},{css:{transform:"scaleX(1) translateZ(0)",opacity:1},ease:Power4.easeOut,force3D:"true"}).staggerFromTo(".about span",.25,{y:"60px",opacity:0},{y:0,opacity:1,ease:Power4.easeOut,force3D:"true"},.1).staggerFromTo(".info-contact li",.25,{y:"-30px",opacity:0},{y:0,opacity:1,ease:Power4.easeOut,force3D:"true"},.1).fromTo(".info-close",.1,{y:"-60px",opacity:0},{y:0,opacity:1,ease:Power4.easeOut,force3D:"true"}),a(".info-open").click(function(a){a.preventDefault(),b.play()}),a(".info-close").click(function(a){a.preventDefault(),b.reverse()})}var c,d=(/Firefox/i.test(navigator.userAgent),window.matchMedia("(min-width: 641px)").matches),e=window.matchMedia("(min-width: 1101px)").matches,f=(a(".single").length>0,a(".home").length>0,a(window).height()),c=parseInt(f);a(window).on("resize",function(){f=a(window).height(),c=parseInt(f),a(".page-transition").css({transform:"translateY("+c+"px)"})}),a(document).ready(function(){g()}),a(function(){"use strict";var b={prefetch:!0,cacheLength:0,onStart:{duration:400,render:function(a,b){var d=new TimelineLite;d.set(".page-transition",{css:{display:"block"}}).fromTo(".page-transition",.4,{y:c},{y:0,force3D:"true"})}},onReady:{duration:0,render:function(a,b){a.html(b),g()}}};a("#main").smoothState(b).data("smoothState")});var g=function(){b(),FastClick.attach(document.body),i(),j(),a(".home").length>0&&l();var f=new TimelineLite;f.fromTo(".page-transition",.4,{y:0},{y:c,force3D:"true"}).staggerFromTo(".project-role span",.15,{y:"-20px",opacity:0},{y:0,opacity:1,ease:Power3.easeOut,force3D:"true"},.03).staggerFromTo(".project-info h1 .blast",.25,{opacity:0},{opacity:1,ease:Power1.easeOut},.025).set(".page-transition",{
css:{display:"none"}}),e&&k(),d&&h()},h=function(){a(".half-full-inner").each(function(){var b=a(this).height()<a(this).width()?"fillheight":"fillwidth";a(this).find("img").addClass(b)})},i=function(){a(".scene").parallax()},j=function(){a(".project-info h1").blast({delimiter:"character"}),a(".project-role").blast({delimiter:"word"})},k=function(){if(a(".content > div").each(function(a,b){var c=new ScrollMagic.Controller,d=TweenMax.fromTo(b,.6,{y:"100px",opacity:0},{y:0,opacity:1,force3D:"true"});new ScrollMagic.Scene({triggerElement:b+150,triggerHook:1}).setTween(d).addTo(c)}),a(".project-about-wrapper").length>0){var b=new ScrollMagic.Controller,c=TweenMax.fromTo(".project-about",.4,{y:"100px",opacity:0},{y:0,opacity:1,force3D:"true"});new ScrollMagic.Scene({triggerElement:".project-about",triggerHook:1}).setTween(c).addTo(b)}if(a(".post-nav").length>0){var b=new ScrollMagic.Controller,d=new TimelineLite;d.fromTo(".post-nav",.4,{y:"100px",opacity:0},{y:0,opacity:1,force3D:"true"}),d.fromTo(".post-nav a",.25,{y:"-30px",opacity:0},{y:0,opacity:1,force3D:"true"}),new ScrollMagic.Scene({triggerElement:".post-nav",triggerHook:1}).setTween(d).addTo(b)}if(a(".visit-site").length>0){var b=new ScrollMagic.Controller,d=new TimelineLite;d.fromTo(".visit-site",.4,{y:"100px",opacity:0},{y:0,opacity:1,force3D:"true"}),new ScrollMagic.Scene({triggerElement:".visit-site",triggerHook:1}).setTween(d).addTo(b)}if(a(".project-top").length>0){var b=new ScrollMagic.Controller;new ScrollMagic.Scene({triggerElement:".project-info",duration:"200%"}).setTween(".project-info",{y:"80%",opacity:0,ease:Linear.easeNone}).addTo(b)}},l=function(){var b=a(".grid-wrapper"),c=a(".grid"),d=b.outerWidth(),e=b[0].scrollWidth,f=e/d-1,g=60,h=20,i=0,j=0,k=0,l=d-2*g,m=d/l;b.mousemove(function(a){i=a.pageX-this.offsetLeft,j=Math.min(Math.max(0,i-g),l)*m}),setInterval(function(){k+=(j-k)/h,c.css({"-webkit-transform":"translate3d("+-k*f+"px,0,0)","-moz-transform":"translate3d("+-k*f+"px,0,0)",transform:"translate3d("+-k*f+"px,0,0)"})},10)}}(jQuery);