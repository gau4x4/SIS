var alertExists=false;function loadAlert(i,d,f,m,l){var c={confirm:false,verify:false,input:false,animate:false,textOk:"OK",textCancel:"Cancel",textYes:"Yes",textNo:"No","class":""};if(alertExists){$(document).one("alert-closed",function(){loadAlert(i,d,f,m,l)});return}function n(o){if($(".alertOverlay").is(":visible")){if(o.keyCode==13){$('.aButtons > button[value="ok"]').click()}if(o.keyCode==27){$('.aButtons > button[value="cancel"]').click()}}}alertExists=true;if(f){for(var e in c){if(typeof f[e]=="undefined"){f[e]=c[e]}}}var k=f["class"];var h=$(document).height();var g=$(document).width();var a;$("body").append('<div class="alertOverlay" id="aOverlay"></div>');$(".alertOverlay").css("height",h).css("width",g).show();$("body").append('<div class="alertOuter"></div>');$(".alertOuter").append('<div class="alertInner"></div>');$(".alertInner").append('<div class="alertTitle">'+i+"</div>");$(".alertInner").addClass(k);$(".alertInner").append('<div class="alertDescription"></div>');$(".alertDescription").append(d);$(".alertOuter").css("left",($(window).width()-$(".alertOuter").width())/2+$(window).scrollLeft()+"px");$(".alertOuter").css("top","10%").show();if(f){if(f.input){if(typeof(f.input)=="string"){$(".alertInner").append('<div class="aInput"><input id="alert-input" type="text" t="aTextbox" value="'+f.input+'" /></div>');$("#alert-input").focus()}else{$(".alertInner").append('<div class="aInput"><input id="alert-input" type="text"  t="aTextbox" /></div>');$("#alert-input").focus()}$("#alert-input").focus()}}$(".alertInner").append('<div class="aButtons"></div>');if(f){if(f.verify&&f.confirm){$(".aButtons").append('<button value="cancel" class="small-button medium-corner light-gray">'+f.textCancel+"</button>");$(".aButtons").append('<button value="no" class="small-button medium-corner light-gray ">'+f.textNo+"</button>");$(".aButtons").append('<button value="ok" class="small-button medium-corner blue">'+f.textYes+"</button>")}else{if(f.confirm||f.input){$(".aButtons").append('<button value="cancel" class="small-button medium-corner light-gray ">'+f.textCancel+"</button>");$(".aButtons").append('<button value="ok" class="small-button medium-corner blue">'+f.textOk+"</button>")}else{if(f.verify){$(".aButtons").append('<button value="cancel" class="small-button medium-corner light-gray ">'+f.textNo+"</button>");$(".aButtons").append('<button value="ok" class="small-button medium-corner blue">'+f.textYes+"</button>")}else{$(".aButtons").append('<button value="ok" class="small-button medium-corner blue">'+f.textOk+"</button>")}}}}else{$(".aButtons").append('<button value="ok" class="small-button medium-corner blue">OK</button>')}$(document).keydown(n);var j=$("#alert-input").val();if(!j){j=false}$("#alert-input").keyup(function(){j=$(this).val()});$(".aButtons > button").click(function(){if(m){var o=$(this).attr("value");if(o=="ok"){if(f){if(f.input){m(j)}else{if(!l){m(true)}else{m(l)}}}else{if(!l){m(true)}else{m(l)}}}else{if(o=="cancel"){m(false)}else{if(o=="no"){m("no")}}}}$(".alertOuter").removeClass("animate");$(".alertOverlay").removeClass("animate");setTimeout(b,500)});$(".alertOuter").addClass("animate");$(".alertOverlay").addClass("animate");function b(){clearInterval(a);$(".alertOverlay").remove();$(".alertOuter").remove();alertExists=false;$(document).trigger("alert-closed");$(document).off("keydown",n)}};